import { createContext, useContext, useMemo, useState } from 'react'

const I18nContext = createContext(null)

const translations = {
  de: {
    // Navigation & General
    shop: 'Shop',
    cart: 'Warenkorb',
    checkout: 'Zur Kasse',
    login: 'Anmelden',
    logout: 'Abmelden',
    home: 'Startseite',
    
    // Cart & Shopping
    emptyCart: 'Ihr Warenkorb ist leer.',
    subtotal: 'Zwischensumme',
    addToCart: 'In den Warenkorb',
    removeFromCart: 'Entfernen',
    nowShop: 'Jetzt einkaufen',
    
    // Product
    categories: 'Shop-Kategorien',
    priceFrom: 'ab CHF',
    size: 'Größe',
    quantity: 'Anzahl',
    
    // Categories
    allProducts: 'Alle Produkte',
    singleProduct: 'Einzelstücke',
    combination: 'Geschenksets',
    
    // Sorting
    sorting: 'Sortierung:',
    featured: 'Empfohlen',
    priceAsc: 'Preis: aufsteigend',
    priceDesc: 'Preis: absteigend',
    
    // Pagination
    page: 'Seite',
    
    // Footer
    terms: 'AGB',
    privacy: 'Datenschutz',
    imprint: 'Impressum',
    contactUs: 'Kontakt',
    aboutUs: 'Über uns',
    
    // Hero
    heroTitle: 'Echter Schweizer Alpen Kaviar',
    heroSubtitle: 'Entdecke edle Kaviar-Spezialitäten und Gourmetprodukte. Frisch, charaktervoll, für besondere Momente.',
    products: 'Produkte',
    viewAll: 'Alle ansehen',
    
    // Misc
    loading: 'Laden...',
    notFound: 'Produkt nicht gefunden.',
    action: 'Aktion',
    welcome: 'Willkommen',
    welcomeUsername: 'Willkommen {username}',
    register: 'Registrieren',
    email: 'E-Mail',
    password: 'Passwort',
    
    // Product Management
    addProduct: 'Produkt hinzufügen',
    editProduct: 'Produkt bearbeiten',
    createProduct: 'Produkt erstellen',
    updateProduct: 'Produkt aktualisieren',
    deleteProduct: 'Produkt löschen',
    cancel: 'Abbrechen',
    add: 'Hinzufügen',
    saving: 'Speichern...',
    deleting: 'Löschen...',
    loadingProduct: 'Produkt wird geladen...',
    
    // Forms
    title: 'Titel',
    description: 'Beschreibung',
    productFeatures: 'Produkteigenschaften',
    shipmentFeatures: 'Versandeigenschaften',
    deliveryFeatures: 'Lieferungseigenschaften',
    price: 'Preis',
    discountedPrice: 'Reduzierter Preis',
    mainImageUrl: 'Hauptbild-URL',
    additionalImages: 'Zusätzliche Bilder',
    category: 'Kategorie',
    rating: 'Bewertung',
    deliveryTime: 'Lieferzeit',
    productIsActive: 'Produkt ist aktiv',
    selectCategory: 'Kategorie auswählen',
    
    // Login/Register
    myAccount: 'Mein Konto',
    createAccount: 'Konto erstellen',
    firstName: 'Vorname',
    lastName: 'Nachname',
    phone: 'Telefon',
    or: 'oder',
    signInWithGoogle: 'Mit Google anmelden',
    googleOAuthNotConfigured: 'Google OAuth ist nicht konfiguriert. Bitte setzen Sie VITE_GOOGLE_CLIENT_ID in der .env-Datei.',
    googleLoginError: 'Google-Anmeldung fehlgeschlagen',
    submitting: 'Wird übermittelt...',
    registrationSuccessful: 'Registrierung erfolgreich. Sie können sich jetzt anmelden.',
    registrationFailed: 'Registrierung fehlgeschlagen',
    loginSuccess: 'Anmeldung erfolgreich!',
    loginFailed: 'Anmeldung fehlgeschlagen! Bitte überprüfen Sie Ihre Daten.',
    demoCredentials: 'Demo Zugangsdaten:',
    username: 'Benutzername',
    demoPassword: 'Passwort',
    dontHaveAccount: 'Haben Sie noch kein Konto?',
    alreadyHaveAccount: 'Haben Sie bereits ein Konto?',
    
    // Product Update
    noChangesDetected: 'Keine Änderungen erkannt',
    initialDataNotLoaded: 'Ursprüngliche Produktdaten nicht geladen. Bitte Seite aktualisieren.',
    
    // My Orders
    myOrders: 'Meine Bestellungen',
    myOrdersLink: 'Meine Bestellungen',
    pleaseLoginToViewOrders: 'Bitte melden Sie sich an, um Ihre Bestellungen anzuzeigen.',
    loadingOrders: 'Laden...',
    
    // User Update
    updateUser: 'Benutzer aktualisieren',
    updateUserTitle: 'Benutzer aktualisieren',
    newPassword: 'Neues Passwort',
    newPasswordHint: 'Leer lassen, wenn Sie das Passwort nicht ändern möchten',
    updating: 'Wird aktualisiert...',
    update: 'Aktualisieren',
    cancel: 'Abbrechen',
    userUpdateSuccess: 'Benutzer erfolgreich aktualisiert',
    userUpdateError: 'Fehler beim Aktualisieren des Benutzers. Bitte versuchen Sie es erneut.',
    userLoadError: 'Fehler beim Laden der Benutzerinformationen.',
    userIdNotFound: 'Benutzer-ID nicht gefunden',
    pleaseFillRequiredFields: 'Bitte füllen Sie die erforderlichen Felder aus (Vorname, Nachname, E-Mail)',
    errorOccurred: 'Fehler aufgetreten',
    whatShouldIDo: 'Was soll ich tun?',
    backendServerError: 'Dies ist ein Backend-Serverfehler (500 Internal Server Error)',
    apiCallSuccessfulButBackendError: 'Der API-Aufruf war erfolgreich, aber der Backend hat einen Fehler zurückgegeben',
    pleaseReportToBackendTeam: 'Bitte melden Sie diesen Fehler dem Backend-Team',
    refreshAndTryAgain: 'Sie können die Seite aktualisieren und es erneut versuchen',
    refreshPage: 'Seite aktualisieren',
    backToShopping: 'Zurück zum Einkaufen',
    noOrdersYet: 'Sie haben noch keine Bestellungen',
    startShopping: 'Einkaufen beginnen',
    orderFound: 'Bestellung gefunden',
    ordersFound: 'Bestellungen gefunden',
    orderNumber: 'Bestellung',
    orderTime: 'Bestellzeit',
    dateInfoNotAvailable: 'Keine Datumsinformation verfügbar',
    statusPending: 'Ausstehend',
    statusPreparing: 'Wird vorbereitet',
    statusShipping: 'Versandt',
    statusDelivered: 'Geliefert',
    statusCancelled: 'Storniert',
    statusUnknown: 'Status',
    paid: 'Bezahlt',
    totalAmount: 'Gesamtbetrag',
    deliveryAddress: 'Lieferadresse',
    productCount: 'Anzahl der Produkte',
    product: 'Produkt',
    products: 'Produkte',
    userIdNotFound: 'Benutzer-ID nicht gefunden. Bitte melden Sie sich erneut an.',
    sessionNotFound: 'Sitzung nicht gefunden. Bitte melden Sie sich an.',
    userInfoNotAvailable: 'Benutzerinformationen konnten nicht abgerufen werden. Bitte melden Sie sich erneut an.',
    errorLoadingOrders: 'Beim Laden der Bestellungen ist ein Fehler aufgetreten.',
    apiEndpointNotFound: 'API-Endpunkt nicht gefunden (404). Bitte kontaktieren Sie den Administrator.',
    
    // Toast Messages
    orderPlacedSuccessfully: 'Ihre Bestellung wurde entgegengenommen',
    productAddedSuccessfully: 'Produkt wurde erfolgreich hinzugefügt',
    productUpdatedSuccessfully: 'Produkt wurde erfolgreich aktualisiert',
    productDeletedSuccessfully: 'Produkt wurde erfolgreich gelöscht',
    orderUpdatedSuccessfully: 'Bestellung wurde erfolgreich aktualisiert',
    errorOccurredToast: 'Ein Fehler ist aufgetreten',
    loggedOut: 'Auf Wiedersehen!',
    
    // Checkout Page
    shipmentAddress: 'Lieferadresse',
    invoiceAddress: 'Rechnungsadresse',
    fullName: 'Vollständiger Name',
    email: 'E-Mail',
    companyName: 'Firmenname',
    companyNameOptional: 'Firmenname (Optional)',
    street: 'Straße/Adresse',
    city: 'Stadt',
    region: 'Region/Bundesland',
    postalCode: 'Postleitzahl',
    country: 'Land',
    phoneNumber: 'Telefonnummer',
    useSameAddress: 'Gleich wie Lieferadresse',
    orderSummary: 'Bestellübersicht',
    total: 'Gesamt',
    back: 'Zurück',
    completeOrder: 'Bestellung abschließen',
    submitting: 'Wird übermittelt...',
    loadingUserInfo: 'Benutzerinformationen werden geladen...',
    readyToComplete: '✓ Bereit - Sie können Ihre Bestellung abschließen',
    pleaseLoginToOrder: 'Bitte melden Sie sich an, um eine Bestellung aufzugeben.',
    pleaseRegisterToOrder: 'Um eine Bestellung aufzugeben, müssen Sie sich registrieren.',
    loadingUserInfoConsole: 'Benutzerinformationen werden geladen... (Bitte Konsole überprüfen)',
    emptyCartMessage: 'Ihr Warenkorb ist leer',
    emptyCartDescription: 'Sie müssen Artikel in Ihrem Warenkorb haben, um eine Zahlung vorzunehmen.',
    backToCart: 'Zurück zum Warenkorb',
    continueShopping: 'Weiter einkaufen',
    pleaseFillRequiredFields: 'Bitte füllen Sie alle Pflichtfelder aus',
    fieldMissing: 'Feld fehlt',
    shipmentAddressField: 'Lieferadresse',
    invoiceAddressField: 'Rechnungsadresse',
    orderCreationError: 'Beim Erstellen der Bestellung ist ein Fehler aufgetreten. Bitte versuchen Sie es erneut.',
  },
  en: {
    // Navigation & General
    shop: 'Shop',
    cart: 'Cart',
    checkout: 'Checkout',
    login: 'Login',
    logout: 'Logout',
    home: 'Home',
    
    // Cart & Shopping
    emptyCart: 'Your cart is empty.',
    subtotal: 'Subtotal',
    addToCart: 'Add to cart',
    removeFromCart: 'Remove',
    nowShop: 'Shop now',
    
    // Product
    categories: 'Shop Categories',
    priceFrom: 'from CHF',
    size: 'Size',
    quantity: 'Quantity',
    
    // Categories
    allProducts: 'All Products',
    singleProduct: 'Individual Pieces',
    combination: 'Gift Sets',
    
    // Sorting
    sorting: 'Sort by:',
    featured: 'Featured',
    priceAsc: 'Price: Low to High',
    priceDesc: 'Price: High to Low',
    
    // Pagination
    page: 'Page',
    
    // Footer
    terms: 'Terms',
    privacy: 'Privacy',
    imprint: 'Imprint',
    contactUs: 'Contact Us',
    aboutUs: 'About Us',
    
    // Hero
    heroTitle: 'Authentic Swiss Alpine Caviar',
    heroSubtitle: 'Discover exquisite caviar specialties and gourmet products. Fresh, distinctive, for special moments.',
    products: 'Products',
    viewAll: 'View all',
    
    // Misc
    loading: 'Loading...',
    notFound: 'Product not found.',
    action: 'Sale',
    welcome: 'Welcome',
    welcomeUsername: 'Welcome {username}',
    register: 'Register',
    email: 'Email',
    password: 'Password',
    
    // Product Management
    addProduct: 'Add Product',
    editProduct: 'Edit Product',
    createProduct: 'Create Product',
    updateProduct: 'Update Product',
    deleteProduct: 'Delete Product',
    cancel: 'Cancel',
    add: 'Add',
    saving: 'Saving...',
    deleting: 'Deleting...',
    loadingProduct: 'Loading product...',
    
    // Forms
    title: 'Title',
    description: 'Description',
    productFeatures: 'Product Features',
    shipmentFeatures: 'Shipment Features',
    deliveryFeatures: 'Delivery Features',
    price: 'Price',
    discountedPrice: 'Discounted Price',
    mainImageUrl: 'Main Image URL',
    additionalImages: 'Additional Images',
    category: 'Category',
    rating: 'Rating',
    deliveryTime: 'Delivery Time',
    productIsActive: 'Product is active',
    selectCategory: 'Select category',
    
    // Login/Register
    myAccount: 'My Account',
    createAccount: 'Create account',
    firstName: 'First Name',
    lastName: 'Last Name',
    phone: 'Phone',
    or: 'or',
    signInWithGoogle: 'Sign in with Google',
    googleOAuthNotConfigured: 'Google OAuth is not configured. Please set VITE_GOOGLE_CLIENT_ID in .env file.',
    googleLoginError: 'Google login failed',
    submitting: 'Submitting…',
    registrationSuccessful: 'Registration successful. You can now sign in.',
    registrationFailed: 'Registration failed',
    loginSuccess: 'Login successful!',
    loginFailed: 'Login failed! Please check your credentials.',
    demoCredentials: 'Demo Credentials:',
    username: 'Username',
    demoPassword: 'Password',
    dontHaveAccount: "Don't have an account?",
    alreadyHaveAccount: 'Already have an account?',
    
    // Product Update
    noChangesDetected: 'No changes detected',
    initialDataNotLoaded: 'Initial product data not loaded. Please refresh the page.',
    
    // My Orders
    myOrders: 'My Orders',
    myOrdersLink: 'My Orders',
    pleaseLoginToViewOrders: 'Please log in to view your orders.',
    loadingOrders: 'Loading...',
    
    // User Update
    updateUser: 'Update User',
    updateUserTitle: 'Update User',
    newPassword: 'New Password',
    newPasswordHint: 'Leave blank if you do not want to change the password',
    updating: 'Updating...',
    update: 'Update',
    cancel: 'Cancel',
    userUpdateSuccess: 'User updated successfully',
    userUpdateError: 'An error occurred while updating the user. Please try again.',
    userLoadError: 'An error occurred while loading user information.',
    userIdNotFound: 'User ID not found',
    pleaseFillRequiredFields: 'Please fill in the required fields (First Name, Last Name, Email)',
    errorOccurred: 'Error Occurred',
    whatShouldIDo: 'What should I do?',
    backendServerError: 'This is a backend server error (500 Internal Server Error)',
    apiCallSuccessfulButBackendError: 'The API call was successful but the backend returned an error',
    pleaseReportToBackendTeam: 'Please report this error to the backend team',
    refreshAndTryAgain: 'You can refresh the page and try again',
    refreshPage: 'Refresh Page',
    backToShopping: 'Back to Shopping',
    noOrdersYet: 'You have no orders yet',
    startShopping: 'Start Shopping',
    orderFound: 'order found',
    ordersFound: 'orders found',
    orderNumber: 'Order',
    orderTime: 'Order Time',
    dateInfoNotAvailable: 'Date information not available',
    statusPending: 'Pending',
    statusPreparing: 'Preparing',
    statusShipping: 'Shipping',
    statusDelivered: 'Delivered',
    statusCancelled: 'Cancelled',
    statusUnknown: 'Status',
    paid: 'Paid',
    totalAmount: 'Total Amount',
    deliveryAddress: 'Delivery Address',
    productCount: 'Product Count',
    product: 'product',
    products: 'products',
    userIdNotFound: 'User ID not found. Please log in again.',
    sessionNotFound: 'Session not found. Please log in.',
    userInfoNotAvailable: 'User information could not be retrieved. Please log in again.',
    errorLoadingOrders: 'An error occurred while loading orders.',
    apiEndpointNotFound: 'API endpoint not found (404). Please contact the administrator.',
    
    // Toast Messages
    orderPlacedSuccessfully: 'Your order has been received',
    productAddedSuccessfully: 'Product added successfully',
    productUpdatedSuccessfully: 'Product updated successfully',
    productDeletedSuccessfully: 'Product deleted successfully',
    orderUpdatedSuccessfully: 'Order updated successfully',
    errorOccurredToast: 'An error occurred',
    loggedOut: 'Goodbye!',
    
    // Checkout Page
    shipmentAddress: 'Delivery Address',
    invoiceAddress: 'Billing Address',
    fullName: 'Full Name',
    email: 'Email',
    companyName: 'Company Name',
    companyNameOptional: 'Company Name (Optional)',
    street: 'Street/Address',
    city: 'City',
    region: 'Region/State',
    postalCode: 'Postal Code',
    country: 'Country',
    phoneNumber: 'Phone Number',
    useSameAddress: 'Same as delivery address',
    orderSummary: 'Order Summary',
    total: 'Total',
    back: 'Back',
    completeOrder: 'Complete Order',
    submitting: 'Submitting...',
    loadingUserInfo: 'Loading user information...',
    readyToComplete: '✓ Ready - You can complete your order',
    pleaseLoginToOrder: 'Please log in to place an order.',
    pleaseRegisterToOrder: 'You must register to place an order.',
    loadingUserInfoConsole: 'Loading user information... (Please check console)',
    emptyCartMessage: 'Your cart is empty',
    emptyCartDescription: 'You must have items in your cart to make a payment.',
    backToCart: 'Back to Cart',
    continueShopping: 'Continue Shopping',
    pleaseFillRequiredFields: 'Please fill in all required fields',
    fieldMissing: 'field is missing',
    shipmentAddressField: 'delivery address',
    invoiceAddressField: 'billing address',
    orderCreationError: 'An error occurred while creating the order. Please try again.',
  },
  fr: {
    // Navigation & General
    shop: 'Boutique',
    cart: 'Panier',
    checkout: 'Commander',
    login: 'Connexion',
    logout: 'Déconnexion',
    home: 'Accueil',
    
    // Cart & Shopping
    emptyCart: 'Votre panier est vide.',
    subtotal: 'Sous-total',
    addToCart: 'Ajouter au panier',
    removeFromCart: 'Supprimer',
    nowShop: 'Acheter',
    
    // Product
    categories: 'Catégories',
    priceFrom: 'dès CHF',
    size: 'Taille',
    quantity: 'Quantité',
    
    // Categories
    allProducts: 'Tous les produits',
    singleProduct: 'Pièces individuelles',
    combination: 'Coffrets cadeaux',
    
    // Sorting
    sorting: 'Trier par:',
    featured: 'Recommandés',
    priceAsc: 'Prix: croissant',
    priceDesc: 'Prix: décroissant',
    
    // Pagination
    page: 'Page',
    
    // Footer
    terms: 'CGV',
    privacy: 'Confidentialité',
    imprint: 'Mentions légales',
    contactUs: 'Contactez-nous',
    aboutUs: 'À propos de nous',
    
    // Hero
    heroTitle: 'Authentique Caviar des Alpes Suisses',
    heroSubtitle: 'Découvrez des spécialités de caviar exquises et des produits gourmets. Frais, caractéristique, pour des moments spéciaux.',
    products: 'Produits',
    viewAll: 'Voir tout',
    
    // Misc
    loading: 'Chargement...',
    notFound: 'Produit introuvable.',
    action: 'Promotion',
    welcome: 'Bienvenue',
    welcomeUsername: 'Bienvenue {username}',
    register: "S'inscrire",
    email: 'E-mail',
    password: 'Mot de passe',
    
    // Product Management
    addProduct: 'Ajouter un produit',
    editProduct: 'Modifier le produit',
    createProduct: 'Créer un produit',
    updateProduct: 'Mettre à jour le produit',
    deleteProduct: 'Supprimer le produit',
    cancel: 'Annuler',
    add: 'Ajouter',
    saving: 'Enregistrement...',
    deleting: 'Suppression...',
    loadingProduct: 'Chargement du produit...',
    
    // Forms
    title: 'Titre',
    description: 'Description',
    productFeatures: 'Caractéristiques du produit',
    shipmentFeatures: "Caractéristiques d'expédition",
    deliveryFeatures: 'Caractéristiques de livraison',
    price: 'Prix',
    discountedPrice: 'Prix réduit',
    mainImageUrl: "URL de l'image principale",
    additionalImages: 'Images supplémentaires',
    category: 'Catégorie',
    rating: 'Note',
    deliveryTime: 'Délai de livraison',
    productIsActive: 'Le produit est actif',
    selectCategory: 'Sélectionner une catégorie',
    
    // Login/Register
    myAccount: 'Mon compte',
    createAccount: 'Créer un compte',
    firstName: 'Prénom',
    lastName: 'Nom',
    phone: 'Téléphone',
    or: 'ou',
    signInWithGoogle: 'Se connecter avec Google',
    googleOAuthNotConfigured: 'Google OAuth n\'est pas configuré. Veuillez définir VITE_GOOGLE_CLIENT_ID dans le fichier .env.',
    googleLoginError: 'Échec de la connexion Google',
    submitting: 'Envoi en cours...',
    registrationSuccessful: 'Inscription réussie. Vous pouvez maintenant vous connecter.',
    registrationFailed: "Échec de l'inscription",
    loginSuccess: 'Connexion réussie!',
    loginFailed: 'Échec de la connexion! Veuillez vérifier vos identifiants.',
    demoCredentials: 'Identifiants de démonstration:',
    username: "Nom d'utilisateur",
    demoPassword: 'Mot de passe',
    dontHaveAccount: "Vous n'avez pas de compte?",
    alreadyHaveAccount: 'Vous avez déjà un compte?',
    
    // Product Update
    noChangesDetected: 'Aucun changement détecté',
    initialDataNotLoaded: 'Données initiales du produit non chargées. Veuillez actualiser la page.',
    
    // My Orders
    myOrders: 'Mes Commandes',
    myOrdersLink: 'Mes Commandes',
    pleaseLoginToViewOrders: 'Veuillez vous connecter pour voir vos commandes.',
    loadingOrders: 'Chargement...',
    
    // User Update
    updateUser: 'Mettre à jour l\'utilisateur',
    updateUserTitle: 'Mettre à jour l\'utilisateur',
    newPassword: 'Nouveau mot de passe',
    newPasswordHint: 'Laisser vide si vous ne souhaitez pas changer le mot de passe',
    updating: 'Mise à jour...',
    update: 'Mettre à jour',
    cancel: 'Annuler',
    userUpdateSuccess: 'Utilisateur mis à jour avec succès',
    userUpdateError: 'Une erreur s\'est produite lors de la mise à jour de l\'utilisateur. Veuillez réessayer.',
    userLoadError: 'Une erreur s\'est produite lors du chargement des informations utilisateur.',
    userIdNotFound: 'ID utilisateur introuvable',
    pleaseFillRequiredFields: 'Veuillez remplir les champs obligatoires (Prénom, Nom, E-mail)',
    errorOccurred: 'Erreur survenue',
    whatShouldIDo: 'Que dois-je faire?',
    backendServerError: 'Ceci est une erreur du serveur backend (500 Internal Server Error)',
    apiCallSuccessfulButBackendError: "L'appel API a réussi mais le backend a renvoyé une erreur",
    pleaseReportToBackendTeam: 'Veuillez signaler cette erreur à l\'équipe backend',
    refreshAndTryAgain: 'Vous pouvez actualiser la page et réessayer',
    refreshPage: 'Actualiser la page',
    backToShopping: 'Retour aux achats',
    noOrdersYet: 'Vous n\'avez pas encore de commandes',
    startShopping: 'Commencer les achats',
    orderFound: 'commande trouvée',
    ordersFound: 'commandes trouvées',
    orderNumber: 'Commande',
    orderTime: 'Heure de commande',
    dateInfoNotAvailable: 'Informations de date non disponibles',
    statusPending: 'En attente',
    statusPreparing: 'En préparation',
    statusShipping: 'Expédié',
    statusDelivered: 'Livré',
    statusCancelled: 'Annulé',
    statusUnknown: 'Statut',
    paid: 'Payé',
    totalAmount: 'Montant total',
    deliveryAddress: 'Adresse de livraison',
    productCount: 'Nombre de produits',
    product: 'produit',
    products: 'produits',
    userIdNotFound: 'ID utilisateur introuvable. Veuillez vous reconnecter.',
    sessionNotFound: 'Session introuvable. Veuillez vous connecter.',
    userInfoNotAvailable: 'Les informations utilisateur n\'ont pas pu être récupérées. Veuillez vous reconnecter.',
    errorLoadingOrders: 'Une erreur s\'est produite lors du chargement des commandes.',
    apiEndpointNotFound: 'Point de terminaison API introuvable (404). Veuillez contacter l\'administrateur.',
    
    // Toast Messages
    orderPlacedSuccessfully: 'Votre commande a été reçue',
    productAddedSuccessfully: 'Produit ajouté avec succès',
    productUpdatedSuccessfully: 'Produit mis à jour avec succès',
    productDeletedSuccessfully: 'Produit supprimé avec succès',
    orderUpdatedSuccessfully: 'Commande mise à jour avec succès',
    errorOccurredToast: 'Une erreur s\'est produite',
    loggedOut: 'Au revoir!',
    
    // Checkout Page
    shipmentAddress: 'Adresse de livraison',
    invoiceAddress: 'Adresse de facturation',
    fullName: 'Nom complet',
    email: 'E-mail',
    companyName: 'Nom de l\'entreprise',
    companyNameOptional: 'Nom de l\'entreprise (Optionnel)',
    street: 'Rue/Adresse',
    city: 'Ville',
    region: 'Région/État',
    postalCode: 'Code postal',
    country: 'Pays',
    phoneNumber: 'Numéro de téléphone',
    useSameAddress: 'Identique à l\'adresse de livraison',
    orderSummary: 'Résumé de la commande',
    total: 'Total',
    back: 'Retour',
    completeOrder: 'Finaliser la commande',
    submitting: 'Envoi en cours...',
    loadingUserInfo: 'Chargement des informations utilisateur...',
    readyToComplete: '✓ Prêt - Vous pouvez finaliser votre commande',
    pleaseLoginToOrder: 'Veuillez vous connecter pour passer une commande.',
    pleaseRegisterToOrder: 'Vous devez vous inscrire pour passer une commande.',
    loadingUserInfoConsole: 'Chargement des informations utilisateur... (Veuillez vérifier la console)',
    emptyCartMessage: 'Votre panier est vide',
    emptyCartDescription: 'Vous devez avoir des articles dans votre panier pour effectuer un paiement.',
    backToCart: 'Retour au panier',
    continueShopping: 'Continuer les achats',
    pleaseFillRequiredFields: 'Veuillez remplir tous les champs obligatoires',
    fieldMissing: 'champ manquant',
    shipmentAddressField: 'adresse de livraison',
    invoiceAddressField: 'adresse de facturation',
    orderCreationError: 'Une erreur s\'est produite lors de la création de la commande. Veuillez réessayer.',
  },
  it: {
    // Navigation & General
    shop: 'Shop',
    cart: 'Carrello',
    checkout: 'Cassa',
    login: 'Accedi',
    logout: 'Esci',
    home: 'Home',
    
    // Cart & Shopping
    emptyCart: 'Il tuo carrello è vuoto.',
    subtotal: 'Subtotale',
    addToCart: 'Aggiungi al carrello',
    removeFromCart: 'Rimuovi',
    nowShop: 'Acquista ora',
    
    // Product
    categories: 'Categorie Shop',
    priceFrom: 'da CHF',
    size: 'Dimensione',
    quantity: 'Quantità',
    
    // Categories
    allProducts: 'Tutti i prodotti',
    singleProduct: 'Pezzi singoli',
    combination: 'Set regalo',
    
    // Sorting
    sorting: 'Ordina per:',
    featured: 'In evidenza',
    priceAsc: 'Prezzo: dal basso all’alto',
    priceDesc: 'Prezzo: dall’alto al basso',
    
    // Pagination
    page: 'Pagina',
    
    // Footer
    terms: 'Termini',
    privacy: 'Privacy',
    imprint: 'Note legali',
    contactUs: 'Contattaci',
    aboutUs: 'Chi siamo',
    
    // Hero
    heroTitle: 'Autentico caviale delle Alpi svizzere',
    heroSubtitle: 'Scopri specialità di caviale e prodotti gourmet. Freschi, caratteristici, per momenti speciali.',
    products: 'Prodotti',
    viewAll: 'Vedi tutto',
    
    // Misc
    loading: 'Caricamento...',
    notFound: 'Prodotto non trovato.',
    action: 'Offerta',
    welcome: 'Benvenuto',
    welcomeUsername: 'Benvenuto {username}',
    register: 'Registrati',
    email: 'Email',
    password: 'Password',
    
    // Product Management
    addProduct: 'Aggiungi prodotto',
    editProduct: 'Modifica prodotto',
    createProduct: 'Crea prodotto',
    updateProduct: 'Aggiorna prodotto',
    deleteProduct: 'Elimina prodotto',
    cancel: 'Annulla',
    add: 'Aggiungi',
    saving: 'Salvataggio...',
    deleting: 'Eliminazione...',
    loadingProduct: 'Caricamento prodotto...',
    
    // Forms
    title: 'Titolo',
    description: 'Descrizione',
    productFeatures: 'Caratteristiche del prodotto',
    shipmentFeatures: 'Caratteristiche di spedizione',
    deliveryFeatures: 'Caratteristiche di consegna',
    price: 'Prezzo',
    discountedPrice: 'Prezzo scontato',
    mainImageUrl: 'URL immagine principale',
    additionalImages: 'Immagini aggiuntive',
    category: 'Categoria',
    rating: 'Valutazione',
    deliveryTime: 'Tempo di consegna',
    productIsActive: 'Il prodotto è attivo',
    selectCategory: 'Seleziona categoria',
    
    // Login/Register
    myAccount: 'Il mio account',
    createAccount: 'Crea account',
    firstName: 'Nome',
    lastName: 'Cognome',
    phone: 'Telefono',
    or: 'o',
    signInWithGoogle: 'Accedi con Google',
    googleOAuthNotConfigured: 'Google OAuth non configurato. Impostare VITE_GOOGLE_CLIENT_ID nel file .env.',
    googleLoginError: 'Accesso Google non riuscito',
    submitting: 'Invio in corso...',
    registrationSuccessful: 'Registrazione completata. Ora puoi accedere.',
    registrationFailed: 'Registrazione fallita',
    loginSuccess: 'Accesso riuscito!',
    loginFailed: 'Accesso fallito! Controlla le tue credenziali.',
    demoCredentials: 'Credenziali demo:',
    username: 'Nome utente',
    demoPassword: 'Password',
    dontHaveAccount: 'Non hai un account?',
    alreadyHaveAccount: 'Hai già un account?',
    
    // Product Update
    noChangesDetected: 'Nessuna modifica rilevata',
    initialDataNotLoaded: 'Dati iniziali del prodotto non caricati. Si prega di aggiornare la pagina.',
    
    // My Orders
    myOrders: 'I Miei Ordini',
    myOrdersLink: 'I Miei Ordini',
    pleaseLoginToViewOrders: 'Effettua l\'accesso per visualizzare i tuoi ordini.',
    loadingOrders: 'Caricamento...',
    
    // User Update
    updateUser: 'Aggiorna utente',
    updateUserTitle: 'Aggiorna utente',
    newPassword: 'Nuova password',
    newPasswordHint: 'Lasciare vuoto se non si desidera cambiare la password',
    updating: 'Aggiornamento...',
    update: 'Aggiorna',
    cancel: 'Annulla',
    userUpdateSuccess: 'Utente aggiornato con successo',
    userUpdateError: 'Si è verificato un errore durante l\'aggiornamento dell\'utente. Riprova.',
    userLoadError: 'Si è verificato un errore durante il caricamento delle informazioni utente.',
    userIdNotFound: 'ID utente non trovato',
    pleaseFillRequiredFields: 'Si prega di compilare i campi obbligatori (Nome, Cognome, Email)',
    errorOccurred: 'Errore verificato',
    whatShouldIDo: 'Cosa devo fare?',
    backendServerError: 'Questo è un errore del server backend (500 Internal Server Error)',
    apiCallSuccessfulButBackendError: 'La chiamata API è riuscita ma il backend ha restituito un errore',
    pleaseReportToBackendTeam: 'Si prega di segnalare questo errore al team backend',
    refreshAndTryAgain: 'Puoi aggiornare la pagina e riprovare',
    refreshPage: 'Aggiorna pagina',
    backToShopping: 'Torna allo shopping',
    noOrdersYet: 'Non hai ancora ordini',
    startShopping: 'Inizia lo shopping',
    orderFound: 'ordine trovato',
    ordersFound: 'ordini trovati',
    orderNumber: 'Ordine',
    orderTime: 'Ora dell\'ordine',
    dateInfoNotAvailable: 'Informazioni sulla data non disponibili',
    statusPending: 'In attesa',
    statusPreparing: 'In preparazione',
    statusShipping: 'In spedizione',
    statusDelivered: 'Consegnato',
    statusCancelled: 'Annullato',
    statusUnknown: 'Stato',
    paid: 'Pagato',
    totalAmount: 'Importo totale',
    deliveryAddress: 'Indirizzo di consegna',
    productCount: 'Numero di prodotti',
    product: 'prodotto',
    products: 'prodotti',
    userIdNotFound: 'ID utente non trovato. Si prega di accedere di nuovo.',
    sessionNotFound: 'Sessione non trovata. Si prega di accedere.',
    userInfoNotAvailable: 'Le informazioni utente non sono state recuperate. Si prega di accedere di nuovo.',
    errorLoadingOrders: 'Si è verificato un errore durante il caricamento degli ordini.',
    apiEndpointNotFound: 'Endpoint API non trovato (404). Si prega di contattare l\'amministratore.',
    
    // Toast Messages
    orderPlacedSuccessfully: 'Il tuo ordine è stato ricevuto',
    productAddedSuccessfully: 'Prodotto aggiunto con successo',
    productUpdatedSuccessfully: 'Prodotto aggiornato con successo',
    productDeletedSuccessfully: 'Prodotto eliminato con successo',
    orderUpdatedSuccessfully: 'Ordine aggiornato con successo',
    errorOccurredToast: 'Si è verificato un errore',
    loggedOut: 'Arrivederci!',
    
    // Checkout Page
    shipmentAddress: 'Indirizzo di consegna',
    invoiceAddress: 'Indirizzo di fatturazione',
    fullName: 'Nome completo',
    email: 'Email',
    companyName: 'Nome azienda',
    companyNameOptional: 'Nome azienda (Opzionale)',
    street: 'Via/Indirizzo',
    city: 'Città',
    region: 'Regione/Stato',
    postalCode: 'Codice postale',
    country: 'Paese',
    phoneNumber: 'Numero di telefono',
    useSameAddress: 'Uguale all\'indirizzo di consegna',
    orderSummary: 'Riepilogo ordine',
    total: 'Totale',
    back: 'Indietro',
    completeOrder: 'Completa ordine',
    submitting: 'Invio in corso...',
    loadingUserInfo: 'Caricamento informazioni utente...',
    readyToComplete: '✓ Pronto - Puoi completare il tuo ordine',
    pleaseLoginToOrder: 'Effettua l\'accesso per effettuare un ordine.',
    pleaseRegisterToOrder: 'Devi registrarti per effettuare un ordine.',
    loadingUserInfoConsole: 'Caricamento informazioni utente... (Si prega di controllare la console)',
    emptyCartMessage: 'Il tuo carrello è vuoto',
    emptyCartDescription: 'Devi avere articoli nel carrello per effettuare un pagamento.',
    backToCart: 'Torna al carrello',
    continueShopping: 'Continua lo shopping',
    fieldMissing: 'campo mancante',
    shipmentAddressField: 'indirizzo di consegna',
    invoiceAddressField: 'indirizzo di fatturazione',
    orderCreationError: 'Si è verificato un errore durante la creazione dell\'ordine. Si prega di riprovare.',
  },
}

export function I18nProvider({ children }) {
  const [lang, setLang] = useState('de')
  const dict = translations[lang]

  const t = useMemo(() => (key) => dict[key] ?? key, [dict])

  const value = useMemo(() => ({ lang, setLang, t }), [lang, t])
  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>
}

export function useI18n() {
  const ctx = useContext(I18nContext)
  if (!ctx) throw new Error('useI18n must be used within I18nProvider')
  return ctx
}



